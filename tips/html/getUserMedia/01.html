<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>test</title>
</head>
<body>

<video id="myVideo" src="" autoplay></video>


<script>

var video = document.getElementById('myVideo');

//カメラ使えるかチェック
function hasGetUserMedia() {
    return (navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia);
}

if ( hasGetUserMedia() ) {
    console.log("カメラ OK");

    // 接続エラー
    var onFailSoHard = function(e) {
        console.log("ERROR", e);
        alert("エラー：カメラの接続に失敗しました");
    };

    // カメラに接続
    window.URL = window.URL || window.webkitURL;
    navigator.getUserMedia  = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;
    navigator.getUserMedia({video: true}, function(stream) {

        // videoタグに描画
        video.src = window.URL.createObjectURL(stream);

    }, onFailSoHard);

} else {
    alert("未対応ブラウザです。");
}


</script>
</body>
</html>